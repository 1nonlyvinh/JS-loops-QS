B64:Ly9SVU4gVVNJTkcgTk9ERSBCRUZPUkUgSlMKCi8vZm9yIHN0cnVjdHVyZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+Pj4+Pj4KY29uc29sZS5sb2coIkZvciBsb29wczogVXNlZCBmb3IgY291bnRpbmcgYSBzZXQgYW1vdW50IG9mIHRpbWVzLlxuIik7Cgpmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykgewogICAgY29uc29sZS5sb2coIkl0ZXJhdGlvbjoiLCBpKTsKfQovL3doaWxlIHN0cnVjdHVyZS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT4+Pj4+Pgpjb25zb2xlLmxvZygiXG5XaGlsZSBsb29wczogVXNlZCB3aGVuIG51bWJlciBvZiBsb29wcyBpcyB1bmtub3duLCBsb29wIHVudGlsIGEgY29uZGl0aW9uIGlzIG1ldC5cbiIpOwpsZXQgY291bnQgPSAwOwp3aGlsZShjb3VudCA8IDUpewogICAgY29uc29sZS5sb2coIkNvdW50OiIsIGNvdW50KTsKICAgIGNvdW50Kys7Cn0KLy93aGlsZS4uZG8gc3RydWN0dXJlLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPj4+Pj4+CmNvbnNvbGUubG9nKCJcbkRvLi53aGlsZSBsb29wczogVXNlZCB3aGVuIHlvdSB3YW50IHRoZSBsb29wIGFsd2F5cyB0byBydW4gb25jZSBiZWZvcmUgbWVldGluZyBhIGNvbmRpdGlvbi5cbiIpOwoKbGV0IGNvdW50RG93biA9IDM7IC8vIFN0YXJ0IHRoZSBjb3VudGRvd24gZnJvbSAzCgpkbyB7CiAgICBjb25zb2xlLmxvZyhgQ291bnRpbmcgZG93bjogJHtjb3VudERvd259YCk7CiAgICBjb3VudERvd24tLTsKfSB3aGlsZSAoY291bnREb3duID4gMCk7Cgpjb25zb2xlLmxvZygiQmxhc3Qgb2ZmISIpOwovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwoKLy9mb3IgZXhhbXBsZS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT4+Pj4+PgpsZXQgb3V0cHV0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm91dHB1dCIpOyAvLyBHZXQgdGhlIG91dHB1dCBkaXYKb3V0cHV0RGl2LmlubmVySFRNTCArPSAiPGgyPlVzaW5nIGEgJ2ZvcicgbG9vcCB0byBjcmVhdGUgYSBzdGFyIHBhdHRlcm48L2gyPiI7CgpsZXQgcHlyYW1pZCA9ICIiOyAvLyBFbXB0eSBzdHJpbmcgdG8gaG9sZCB0aGUgcGF0dGVybgpmb3IgKGxldCBpID0gMTsgaSA8PSAxMDAwOyBpKyspIHsKICAgIHB5cmFtaWQgKz0gIioiLnJlcGVhdChpKSArICI8YnI+IjsgLy8gQWRkIGkgc3RhcnMgZm9yIGVhY2ggbGluZQp9Cm91dHB1dERpdi5pbm5lckhUTUwgKz0gcHlyYW1pZDsKCi8vd2hpbGUgZXhhbXBsZS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT4+Pj4+PgpvdXRwdXREaXYuaW5uZXJIVE1MICs9ICI8aDI+VXNpbmcgYSAnd2hpbGUnIGxvb3AgdG8gcm9sbCBhIGRpY2U8L2gyPiI7CgpsZXQgZGljZVJvbGw7CmxldCByb2xscyA9IDA7Cgp3aGlsZSAoZGljZVJvbGwgIT09IDYpIHsKICAgIGRpY2VSb2xsID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNikgKyAxOyAvLyBSYW5kb20gbnVtYmVyIGJldHdlZW4gMSBhbmQgNgogICAgcm9sbHMrKzsKICAgIG91dHB1dERpdi5pbm5lckhUTUwgKz0gYFlvdSByb2xsZWQ6ICR7ZGljZVJvbGx9PGJyPmA7Cn0KCm91dHB1dERpdi5pbm5lckhUTUwgKz0gYEl0IHRvb2sgJHtyb2xsc30gcm9sbChzKSB0byBnZXQgYSA2ITxicj5gOwoKCi8vRG8uLndoaWxlIGV4YW1wbGUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+Pj4+Pj4KbGV0IG91dHB1dERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvdXRwdXQiKTsgLy8gR2V0IHRoZSBvdXRwdXQgZGl2CmxldCBwYXNzd29yZElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhc3N3b3JkSW5wdXQiKTsgLy8gR2V0IHRoZSBpbnB1dCBmaWVsZApsZXQgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1Ym1pdEJ1dHRvbiIpOyAvLyBHZXQgdGhlIGJ1dHRvbgoKY29uc3QgY29ycmVjdFBhc3N3b3JkID0gIjEyMzQiOyAvLyBQcmV0ZW5kIHRoaXMgaXMgdGhlIGNvcnJlY3QgcGFzc3dvcmQKCm91dHB1dERpdi5pbm5lckhUTUwgKz0gIjxoMj5Vc2luZyBhIHBhc3N3b3JkIHByb21wdDwvaDI+IjsKCnN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogICAgY29uc3QgcGFzc3dvcmQgPSBwYXNzd29yZElucHV0LnZhbHVlOyAvLyBHZXQgdGhlIGVudGVyZWQgcGFzc3dvcmQKCiAgICBpZiAocGFzc3dvcmQgPT09IGNvcnJlY3RQYXNzd29yZCkgewogICAgICAgIG91dHB1dERpdi5pbm5lckhUTUwgKz0gIkFjY2VzcyBncmFudGVkITxicj4iOwogICAgICAgIHBhc3N3b3JkSW5wdXQuZGlzYWJsZWQgPSB0cnVlOyAvLyBEaXNhYmxlIGlucHV0IGFmdGVyIHN1Y2Nlc3MKICAgICAgICBzdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlOyAvLyBEaXNhYmxlIGJ1dHRvbiBhZnRlciBzdWNjZXNzCiAgICB9IGVsc2UgewogICAgICAgIG91dHB1dERpdi5pbm5lckhUTUwgKz0gIkluY29ycmVjdCBwYXNzd29yZC4gVHJ5IGFnYWluLjxicj4iOwogICAgICAgIHBhc3N3b3JkSW5wdXQudmFsdWUgPSAiIjsgLy8gQ2xlYXIgdGhlIGlucHV0IGZpZWxkCiAgICB9Cn0pOwo=